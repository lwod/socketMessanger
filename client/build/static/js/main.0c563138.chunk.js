(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(17),i=n.n(a),s=n(8),o=n(55),j=n(58),l=n(56),u=n(59),d=n(2),b=function(e){var t=e.onIdSubmit,n=Object(c.useRef)();return Object(d.jsx)(o.a,{className:"align-items-center d-flex",style:{height:"100vh"},children:Object(d.jsxs)(j.a,{className:"w-100",onSubmit:function(e){e.preventDefault(),t(n.current.value)},children:[Object(d.jsxs)(j.a.Group,{children:[Object(d.jsx)(j.a.Label,{children:"Enter your id"}),Object(d.jsx)(j.a.Control,{type:"text",ref:n,required:!0})]}),Object(d.jsx)(l.a,{type:"submit",className:"mr-2",children:"Login"}),Object(d.jsx)(l.a,{variant:"secondary",onClick:function(){t(Object(u.a)())},children:"Crete a new id"})]})})},O=(n(50),function(e,t){var n="whatsapp-clone-"+e,r=Object(c.useState)((function(){var e=localStorage.getItem(n);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),a=Object(s.a)(r,2),i=a[0],o=a[1];return Object(c.useEffect)((function(){localStorage.setItem(n,JSON.stringify(i))}),[n,i]),[i,o]}),x=(n(51),n(61)),h=n(60),f=n(57),v=function(){return Object(d.jsx)("div",{children:"Conversations"})},m=n(20),p=Object(c.createContext)(),C=function(){return Object(c.useContext)(p)},y=function(e){var t=e.children,n=O("contacts",[]),c=Object(s.a)(n,2),r=c[0],a=c[1];return Object(d.jsx)(p.Provider,{value:{contacts:r,createContact:function(e,t){a((function(n){return[].concat(Object(m.a)(n),[{id:e,name:t}])}))}},children:t})},g=n(62),S=function(){var e=C().contacts;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(g.a,{variant:"flush",children:e.map((function(e){return Object(d.jsx)(g.a.Item,{style:{color:"black"},children:e.name},e.id)}))})})},N=n(40),k=Object(c.createContext)(),w=function(e){var t=e.children,n=O("conversations",[]),c=Object(s.a)(n,2),r=c[0],a=c[1],i=C().contacts,o={conversations:r.map((function(e){var t=e.recipients.map((function(e){var t=i.find((function(t){return t.id===e})),n=t&&t.name||e;return{id:e,name:n}}));return Object(N.a)(Object(N.a)({},e),{},{recipients:t})})),createConversation:function(e){a((function(t){return[].concat(Object(m.a)(t),[{recipients:e,messages:[]}])}))}};return Object(d.jsx)(k.Provider,{value:o,children:t})},I=function(e){var t=e.closeModal,n=C().contacts,r=Object(c.useContext)(k).createConversation,a=Object(c.useState)([]),i=Object(s.a)(a,2),o=i[0],u=i[1];return Object(d.jsxs)("div",{style:{color:"black"},children:[Object(d.jsx)(f.a.Header,{closeButton:!0,children:"Create Conversation"}),Object(d.jsx)(f.a.Body,{children:Object(d.jsxs)(j.a,{onSubmit:function(e){e.preventDefault(),r(o),t()},children:[n.map((function(e){return Object(d.jsx)(j.a.Group,{controlId:e.id,children:Object(d.jsx)(j.a.Check,{type:"checkbox",value:o.includes(e.id),label:e.name,onChange:function(){return t=e.id,void u((function(e){return e.includes(t)?e.filter((function(e){return t!==e})):[].concat(Object(m.a)(e),[t])}));var t}})},e.id)})),Object(d.jsx)(l.a,{type:"submit",children:"Create"})]})})]})},L=function(e){var t=e.closeModal,n=C().createContact,r=Object(c.useRef)(),a=Object(c.useRef)();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{style:{color:"black"},children:[Object(d.jsx)(f.a.Header,{closeButton:!0,children:"Create Contact"}),Object(d.jsx)(f.a.Body,{children:Object(d.jsxs)(j.a,{onSubmit:function(e){e.preventDefault(),n(r.current.value,a.current.value),t()},children:[Object(d.jsxs)(j.a.Group,{children:[Object(d.jsx)(j.a.Label,{children:"Id"}),Object(d.jsx)(j.a.Control,{type:"text",ref:r,required:!0})]}),Object(d.jsxs)(j.a.Group,{children:[Object(d.jsx)(j.a.Label,{children:"Name"}),Object(d.jsx)(j.a.Control,{type:"text",ref:a,required:!0})]}),Object(d.jsx)(l.a,{type:"submit",children:"Create"})]})})]})})},B="conversations",K="contacts",M=function(e){var t=e.id,n=Object(c.useState)(B),r=Object(s.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(!1),j=Object(s.a)(o,2),u=j[0],b=j[1],O=function(){b(!1)},m=a===B;return Object(d.jsxs)("div",{style:{width:"250px"},className:"d-flex flex-column",children:[Object(d.jsxs)(x.a.Container,{activeKey:a,onSelect:i,children:[Object(d.jsxs)(h.a,{variant:"tabs",className:"justify-content-center",children:[Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(h.a.Link,{eventKey:B,children:"Conversations"})}),Object(d.jsx)(h.a.Item,{children:Object(d.jsx)(h.a.Link,{eventKey:K,children:"Contacts"})})]}),Object(d.jsxs)(x.a.Content,{className:"border-right overflow-auto flex-grow-1",children:[Object(d.jsx)(x.a.Pane,{eventKey:B,children:Object(d.jsx)(v,{})}),Object(d.jsx)(x.a.Pane,{eventKey:K,children:Object(d.jsx)(S,{})})]}),Object(d.jsxs)("div",{className:"p-2 border-top border-right small",children:["Your id: ",Object(d.jsx)("span",{className:"text-muted",children:t})]}),Object(d.jsxs)(l.a,{onClick:function(){return b(!0)},className:"rounded-0",children:["New ",m?"Conversation":"Contact"]})]}),Object(d.jsx)(f.a,{show:u,onHide:O,children:m?Object(d.jsx)(I,{closeModal:O}):Object(d.jsx)(L,{closeModal:O})})]})},G=function(e){var t=e.id;return Object(d.jsx)("div",{className:"d-flex",style:{height:"100vh"},children:Object(d.jsx)(M,{id:t})})},J=function(){var e=O("id"),t=Object(s.a)(e,2),n=t[0],c=t[1];return n?Object(d.jsx)(y,{children:Object(d.jsx)(w,{children:Object(d.jsx)(G,{id:n})})}):Object(d.jsx)(b,{onIdSubmit:c})};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(J,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.0c563138.chunk.js.map